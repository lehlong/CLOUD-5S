<div class="card income-modal-container">
    <div class="card-body">
        <div class="d-flex-wrap d-gap d-space-bw border-bottom header-drawer">
            <div class="card-title">
                <i class="bi bi-plus-lg"></i>
                Chọn đối tác
            </div>
            <div class="d-flex-wrap d-gap">
                <div>
                    <button type="button" mat-dialog-close class="btn btn-warning"><i class="bi bi-x-circle"></i>Đóng</button>
                </div>
            </div>
        </div>
        <div class="pb-3 mt-2">
            <div class="row">
                <div class="container-modal">
                    <div class="d-flex flex-row flex-grow-3">
                        <div class="input-group search-box">
                            <div class="wrapper-input">
                                <app-input-clear placeholder="Nhập từ khóa tìm kiếm" (searchEvent)="search()"
                                    [(value)]="filter.keyWord"></app-input-clear>
                            </div>
                            <span (click)="search()" class="input-group-text"><i class="bi bi-search"></i></span>
                            <span (click)="reload()" class="input-group-text"><i
                                    class="bi bi-arrow-clockwise"></i></span>
                        </div>
                    </div>
                    <div class="wraper-table mt-3">
                        <table mat-table [dataSource]="paginationResult.data"
                            *ngIf="paginationResult && paginationResult.data?.length > 0"
                            class="table table-hover table-click-row">
                            <ng-container matColumnDef="choose">
                                <th mat-header-cell *matHeaderCellDef class="checkAll">
                                </th>
                                <td mat-cell *matCellDef="let element" class="text-center">
                                    <button (click)="selectPartner(element)" nz-button nzType="dashed" nzSize="small"> <span nz-icon nzType="select"
                                            nzTheme="outline"></span> Chọn</button>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="code">
                                <th mat-header-cell *matHeaderCellDef>Mã khách hàng</th>
                                <td mat-cell *matCellDef="let element">
                                    {{element?.code}}
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="name">
                                <th mat-header-cell *matHeaderCellDef>Tên khách hàng</th>
                                <td mat-cell *matCellDef="let element">{{ element.name}}</td>
                            </ng-container>

                            <ng-container matColumnDef="taxCode">
                                <th mat-header-cell *matHeaderCellDef>Mã số thuế</th>
                                <td mat-cell *matCellDef="let element">{{ element.taxCode}}</td>
                            </ng-container>

                            <ng-container matColumnDef="address">
                                <th mat-header-cell *matHeaderCellDef>Địa chỉ</th>
                                <td mat-cell *matCellDef="let element">{{element?.address}}</td>
                            </ng-container>

                            <ng-container matColumnDef="phoneNumber">
                                <th mat-header-cell *matHeaderCellDef>Số điện thoại</th>
                                <td mat-cell *matCellDef="let element">{{element?.phoneNumber}}</td>
                            </ng-container>

                            <ng-container matColumnDef="email">
                                <th mat-header-cell *matHeaderCellDef>Email</th>
                                <td mat-cell *matCellDef="let element">{{element?.email}}</td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true" class="border-bottom">
                            </tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns"
                                [ngClass]="{'selected-row': row.code === filter.code}"></tr>
                        </table>
                        <app-empty *ngIf="!paginationResult || paginationResult.data?.length == 0"></app-empty>
                    </div>
                    <div class="mt-3" *ngIf="paginationResult">
                        <app-pagination [pageSize]="paginationResult.pageSize"
                            [totalRecord]="paginationResult.totalRecord" [totalPage]="paginationResult.totalPage"
                            [(page)]="paginationResult.currentPage" (pageChange)="onChangePage($event)"
                            (pageSizeChange)="pageSizeChange($event)"></app-pagination>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>